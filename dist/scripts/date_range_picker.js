!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("moment")):"function"==typeof define&&define.amd?define(["moment"],t):"object"==typeof exports?exports.date_range_picker=t(require("moment")):(e.TeamvoyCalendar=e.TeamvoyCalendar||{},e.TeamvoyCalendar.date_range_picker=t(e.moment))}(this,function(e){return function(e){function t(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=f.p+""+e+"."+g+".hot-update.js",t.appendChild(n)}function n(e){if("undefined"==typeof XMLHttpRequest)return e(new Error("No browser support"));try{var t=new XMLHttpRequest,n=f.p+""+g+".hot-update.json";t.open("GET",n,!0),t.timeout=1e4,t.send(null)}catch(r){return e(r)}t.onreadystatechange=function(){if(4===t.readyState)if(0===t.status)e(new Error("Manifest request to "+n+" timed out."));else if(404===t.status)e();else if(200!==t.status&&304!==t.status)e(new Error("Manifest request to "+n+" failed."));else{try{var r=JSON.parse(t.responseText)}catch(a){return void e(a)}e(null,r)}}}function r(e){var t=L[e];if(!t)return f;var n=function(n){return t.hot.active?L[n]?(L[n].parents.indexOf(e)<0&&L[n].parents.push(e),t.children.indexOf(n)<0&&t.children.push(n)):w=[e]:(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),w=[]),f(n)};for(var r in f)Object.prototype.hasOwnProperty.call(f,r)&&(n[r]=f[r]);return n.e=function(e,t){"ready"===D&&o("prepare"),b++,f.e(e,function(){function r(){b--,"prepare"===D&&(C[e]||c(e),0===b&&0===O&&l())}try{t.call(null,n)}finally{r()}})},n}function a(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],active:!0,accept:function(e,n){if("undefined"==typeof e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n;else t._acceptedDependencies[e]=n},decline:function(e){if("undefined"==typeof e)t._selfDeclined=!0;else if("number"==typeof e)t._declinedDependencies[e]=!0;else for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:i,apply:u,status:function(e){return e?void M.push(e):D},addStatusHandler:function(e){M.push(e)},removeStatusHandler:function(e){var t=M.indexOf(e);t>=0&&M.splice(t,1)},data:_[e]};return t}function o(e){D=e;for(var t=0;t<M.length;t++)M[t].call(null,e)}function d(e){return+e+""===e?+e:e}function i(e,t){if("idle"!==D)throw new Error("check() is only allowed in idle status");"function"==typeof e?(v=!1,t=e):(v=e,t=t||function(e){if(e)throw e}),o("check"),n(function(e,n){if(e)return t(e);if(!n)return o("idle"),void t(null,null);x={},E={},C={};for(var r=0;r<n.c.length;r++)E[n.c[r]]=!0;m=n.h,o("prepare"),h=t,y={};var a=1;c(a),"prepare"===D&&0===b&&0===O&&l()})}function s(e,t){if(E[e]&&x[e]){x[e]=!1;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(y[n]=t[n]);0===--O&&0===b&&l()}}function c(e){E[e]?(x[e]=!0,O++,t(e)):C[e]=!0}function l(){o("ready");var e=h;if(h=null,e)if(v)u(v,e);else{var t=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&t.push(d(n));e(null,t)}}function u(t,n){function r(e){for(var t=[e],n={},r=t.slice();r.length>0;){var o=r.pop(),e=L[o];if(e&&!e.hot._selfAccepted){if(e.hot._selfDeclined)return new Error("Aborted because of self decline: "+o);for(var d=0;d<e.parents.length;d++){var i=e.parents[d],s=L[i];if(s.hot._declinedDependencies[o])return new Error("Aborted because of declined dependency: "+o+" in "+i);t.indexOf(i)>=0||(s.hot._acceptedDependencies[o]?(n[i]||(n[i]=[]),a(n[i],[o])):(delete n[i],t.push(i),r.push(i)))}}}return[t,n]}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.indexOf(r)<0&&e.push(r)}}if("ready"!==D)throw new Error("apply() is only allowed in ready status");"function"==typeof t?(n=t,t={}):t&&"object"==typeof t?n=n||function(e){if(e)throw e}:(t={},n=n||function(e){if(e)throw e});var i={},s=[],c={};for(var l in y)if(Object.prototype.hasOwnProperty.call(y,l)){var u=d(l),p=r(u);if(!p){if(t.ignoreUnaccepted)continue;return o("abort"),n(new Error("Aborted because "+u+" is not accepted"))}if(p instanceof Error)return o("abort"),n(p);c[u]=y[u],a(s,p[0]);for(var u in p[1])Object.prototype.hasOwnProperty.call(p[1],u)&&(i[u]||(i[u]=[]),a(i[u],p[1][u]))}for(var h=[],v=0;v<s.length;v++){var u=s[v];L[u]&&L[u].hot._selfAccepted&&h.push({module:u,errorHandler:L[u].hot._selfAccepted})}o("dispose");for(var M=s.slice();M.length>0;){var u=M.pop(),O=L[u];if(O){for(var b={},C=O.hot._disposeHandlers,x=0;x<C.length;x++){var E=C[x];E(b)}_[u]=b,O.hot.active=!1,delete L[u];for(var x=0;x<O.children.length;x++){var H=L[O.children[x]];if(H){var k=H.parents.indexOf(u);k>=0&&H.parents.splice(k,1)}}}}for(var u in i)if(Object.prototype.hasOwnProperty.call(i,u))for(var O=L[u],T=i[u],x=0;x<T.length;x++){var S=T[x],k=O.children.indexOf(S);k>=0&&O.children.splice(k,1)}o("apply"),g=m;for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(e[u]=c[u]);var A=null;for(var u in i)if(Object.prototype.hasOwnProperty.call(i,u)){for(var O=L[u],T=i[u],N=[],v=0;v<T.length;v++){var S=T[v],E=O.hot._acceptedDependencies[S];N.indexOf(E)>=0||N.push(E)}for(var v=0;v<N.length;v++){var E=N[v];try{E(i)}catch(R){A||(A=R)}}}for(var v=0;v<h.length;v++){var j=h[v],u=j.module;w=[u];try{f(u)}catch(R){if("function"==typeof j.errorHandler)try{j.errorHandler(R)}catch(R){A||(A=R)}else A||(A=R)}}return A?(o("fail"),n(A)):(o("idle"),void n(null,s))}function f(t){if(L[t])return L[t].exports;var n=L[t]={exports:{},id:t,loaded:!1,hot:a(t),parents:w,children:[]};return e[t].call(n.exports,n,n.exports,r(t)),n.loaded=!0,n.exports}var p=this.webpackHotUpdateTeamvoyCalendar__name_;this.webpackHotUpdateTeamvoyCalendar__name_=function(e,t){s(e,t),p&&p(e,t)};var h,y,m,v=!0,g="d0903e7944053d9cba6f",_={},w=[],M=[],D="idle",O=0,b=0,C={},x={},E={},L={};return f.m=e,f.c=L,f.p="",f.h=function(){return g},r(0)(0)}([function(e,t,n){n(7),e.exports=n(10)},function(e,t,n){var r;r=function(){"use strict";var e=function(){var e={};this.on=function(t,n){return t.split(/\s+/).forEach(function(t){e[t]?0:e[t]=[],e[t].push(n)}),this},this.off=function(t,n){return t.split(/\s+/).forEach(function(t){e[t]&&(e[t]=e[t].filter(function(e){return!(e===n)}))}),this},this.trigger=function(t,n){var r=this;return t.split(/\s+/).forEach(function(t){e[t]&&e[t].forEach(function(e){e.apply(r,n)})}),this}};return e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r,a;r=[],a=function(){"use strict";Element.prototype.deleteAllChildNodes=function(){for(;this.firstChild;)this.removeChild(this.firstChild);return this}}.apply(t,r),!(void 0!==a&&(e.exports=a))},function(e,t,n){var r,a;r=[],a=function(){"use strict";var e=function(){return this};return e.prototype={templates:{dayTemplate:"<div class='calendar__day'>{{day}}</div>",dayNameTemplate:"<div class='calendar__day-name'>{{day_name}}</div>",calendarTemplate:"<div class='calendar'><div class='calendar__caption'><button class='calendar__prev-month'></button><button class='calendar__next-month'></button><div class='calendar__month-and-year'><span class='calendar__month-name'>{Month Name}</span><span class='calendar__year-name'>{Year Name}</span></div></div><div class='calendar__header'></div><div class='calendar__body'></div></div>"},_parseLineIntoDOMElement:function(e){var t,n=document.createElement("body"),r=document.createDocumentFragment();for(n.innerHTML=e;n.firstChild;)t=n.firstChild,r.appendChild(t);return r.childNodes[0]},dayTemplate:function(e){var t=this._parseLineIntoDOMElement(this.templates.dayTemplate.toString());return t.date=e.date,e.isInMonth?t.classList.add("calendar__day--in-month"):t.classList.add("calendar__day--out-month"),e.isWeekend&&t.classList.add("calendar__day--weekend"),e.isToday&&t.classList.add("calendar__day--today"),t.innerHTML=e.date.getDate().toString(),t},dayNameTemplate:function(e){var t=this._parseLineIntoDOMElement(this.templates.dayNameTemplate.toString());return t.dayName=e.name,e.isWeekend&&t.classList.add("calendar__day-name--weekend"),t.innerHTML=e.name,t},calendarTemplate:function(){return this._parseLineIntoDOMElement(this.templates.calendarTemplate.toString())}},e}.apply(t,r),!(void 0!==a&&(e.exports=a))},function(t,n){t.exports=e},function(e,t,n){var r,a;r=[n(3),n(1),n(4),n(2)],a=function(e,t,n){"use strict";function r(e){var t=n([e.year,e.month-1,1]);return t.isAfter(t.clone().day(e.firstDayOfWeek))?t.day(e.firstDayOfWeek):t.day(e.firstDayOfWeek).subtract(7,"days")}function a(e,t,r){return Array.apply(null,{length:t}).map(function(){var t=e.clone().locale("en").format("ddd"),a={isInMonth:e.get("month")===r.month-1,isWeekend:-1!==r.weekends.indexOf(t),isToday:n().startOf("day").diff(e,"days")?!1:!0,date:e.clone().toDate()};return e.add(1,"days"),a})}function o(e,t){return Array.apply(null,{length:t.daysInWeek}).map(function(){var n={name:e.format("ddd"),isWeekend:-1!==t.weekends.indexOf(e.clone().locale("en").format("ddd"))};return e.add(1,"days"),n})}var d=new e,i=function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]||(e[n]=[]),e[n]=t[n]);return e},s=function(e,r){function a(){s.addEventListener("click",function(e){e.stopPropagation(),e.target.classList.contains("calendar__next-month")||e.target.classList.contains("calendar__prev-month")?(e.target.classList.contains("calendar__next-month")?c.nextMonth():c.previousMonth(),c.trigger("monthChanged",[l.month])):e.target.date&&c.trigger("daySelected",[e.target.date])})}function o(){return s=d.calendarTemplate(),e.appendChild(s),l=i(l,r),u=c.generateModel(l),c.render(),a(),c.trigger("load",[c]),c}t.call(this),n=n||window.moment,n.locale("en");var s,c=this,l={year:(new Date).getFullYear(),month:(new Date).getMonth()+1,firstDayOfWeek:"SUN",locale:"en",daysInWeek:7,weekends:["Sat","Sun"]},u={daysNames:[],days:[],currentMonth:""};this.getRoot=function(){return s},this.set=function(e,t){var n=i({},l);n[e]=t,u=c.generateModel(n),l=i(l,n),c.render()},this.get=function(e){return e?l[e]:l},this.nextMonth=function(){12===l.month&&(l.year=(parseFloat(l.year)+1).toString()),c.set("month",l.month.valueOf()%12+1)},this.previousMonth=function(){1===l.month?(l.year=(parseFloat(l.year)-1).toString(),c.set("month",12)):c.set("month",(l.month.valueOf()-1)%12)},this.setConfig=function(e){var t=i(i({},l),e);u=c.generateModel(t),l=i(l,e),c.render()},this.getConfig=function(){return l},this.render=function(){return c.renderCaption(l,u),s.querySelector(".calendar__header").deleteAllChildNodes().appendChild(c.renderHeader(l,u)),s.querySelector(".calendar__body").deleteAllChildNodes().appendChild(c.renderBody(u)),c.trigger("render",[c]),c},this.showToday=function(){var e,t=n().locale(l.locale);return l.month=t.get("month")+1,l.year=t.get("year"),u=c.generateModel(l),c.render(),Array.prototype.slice.call(s.querySelector(".calendar__body").childNodes).some(function(r){return e=n(r.date).locale(l.locale),0===t.diff(e,"days")?!r.classList.add("today"):void 0}),t.toDate()},o()};return s.prototype.generateModel=function(e){var t=r(e).locale(e.locale),d={},i=(1+parseFloat(Math.ceil(30/e.daysInWeek)))*e.daysInWeek;if(!t.isValid())throw"Date validation error: "+t.invalidAt();return d.daysNames=o(t.clone(),e),d.currentMonth=n().set("month",e.month-1).format("MMMM"),d.days=a(t,i,e),d},s.prototype.renderCaption=function(e,t){this.getRoot().querySelector(".calendar__month-name").innerHTML=t.currentMonth.toString(),this.getRoot().querySelector(".calendar__year-name").innerHTML=e.year.toString()},s.prototype.renderHeader=function(e,t){if(e.daysInWeek/7-Math.floor(e.daysInWeek/7)===0){var n=document.createDocumentFragment();return t.daysNames.map(function(e){n.appendChild(d.dayNameTemplate(e))}),n}},s.prototype.renderBody=function(e){var t=document.createDocumentFragment();return e.days.forEach(function(e){t.appendChild(d.dayTemplate(e))}),t},s}.apply(t,r),!(void 0!==a&&(e.exports=a))},,function(e,t){},,,function(e,t,n){var r,a;r=[n(5),n(3),n(1),n(4),n(2)],a=function(e,t,n,r){"use strict";var a=function(t,a,o,d){function i(e){var t,n=e.getRoot().querySelector(".calendar__body");return Array.prototype.slice.call(n.childNodes).forEach(function(e){t=r(e.date),t.isAfter(f.start)&&t.isBefore(f.end)&&e.classList.add("calendar__day--selected"),t.calendar()===f.start.calendar()&&e.classList.add("calendar__day--selected--start"),t.calendar()===f.end.calendar()&&e.classList.add("calendar__day--selected--end")}),p}function s(e,t){var n,a;e.preventDefault(),e.target.date&&(n=f.end.diff(f.start),a=r(e.target.date),"start"===t?a.calendar()!==f.end.calendar()&&(f.end=a.clone(),a.isBefore(f.start)&&(f.start=f.end.clone().subtract(n,"milliseconds")),p.render(),p.trigger("rangeChanged",[f.start.clone().toDate(),f.end.clone().toDate()])):a.calendar()!==f.start.calendar()&&(f.start=a.clone(),a.isAfter(f.end)&&(f.end=f.start.clone().add(n,"milliseconds")),p.render(),p.trigger("rangeChanged",[f.start.clone().toDate(),f.end.clone().toDate()])))}function c(){function e(e){s(e,"start")}function t(e){s(e,"end")}function n(){p.configMonthAndYear(),p.renderSelectedDays(),document.removeEventListener("mousemove",e),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)}p.startCalendar.getRoot().addEventListener("mousedown",function(e){e.target.date&&(s(e,"end"),document.addEventListener("mousemove",t),document.addEventListener("mouseup",n))}),p.endCalendar.getRoot().addEventListener("mousedown",function(t){t.target.date&&(s(t,"start"),document.addEventListener("mousemove",e),document.addEventListener("mouseup",n))}),p.startCalendar.on("render",p.renderSelectedDays),p.endCalendar.on("render",p.renderSelectedDays)}function l(){u=document.createElement("div"),u.classList.add("date-range-picker"),p.startCalendar=new e(u,d),p.endCalendar=new e(u,d),f=p.changeRange(a,o),f.start.format("LLL"),f.end.format("LLL"),t.appendChild(u),p.startCalendar.getRoot().classList.add("calendar--date-range-picker--start"),p.endCalendar.getRoot().classList.add("calendar--date-range-picker--end"),p.renderSelectedDays(),c(),p.trigger("load",[p])}n.call(this),r=r||window.moment,r.locale("en");var u,f={start:r(),end:r()},p=this;this.getRoot=function(){return u},this.getRange=function(){return{start:f.start.toDate(),end:f.end.toDate()}},this.setStartDate=function(e){f.start=r(new Date(e))||f.start,p.configMonthAndYear(),p.render(),p.trigger("rangeChanged",[f.start.toDate(),f.end.toDate()])},this.setEndDate=function(e){f.end=r(new Date(e))||f.end,p.configMonthAndYear(),p.render(),p.trigger("rangeChanged",[f.start.toDate(),f.end.toDate()])},this.changeRange=function(e,t){return e&&t&&(f={start:r(new Date(e))||f.start,end:r(new Date(t))||f.end},p.configMonthAndYear(),p.render(),p.trigger("rangeChanged",[f.start.toDate(),f.end.toDate()])),f},this.renderSelectedDays=function(){i(p.startCalendar),i(p.endCalendar)},this.render=function(){p.startCalendar.render(),p.endCalendar.render(),p.renderSelectedDays()},this.configMonthAndYear=function(){p.startCalendar.setConfig({month:f.start.get("month")+1,year:f.start.get("year")}),p.endCalendar.setConfig({month:f.end.get("month")+1,year:f.end.get("year")})},l.call(this)};return a}.apply(t,r),!(void 0!==a&&(e.exports=a))}])});